import styled from '@emotion/styled';import { Empty, Steps } from 'antd';import Typography from 'antd/lib/typography';import { FC, useMemo, useState } from 'react';import { TTestBaseSettings, TTestStage } from '../../types/tests';import { sortByOptionalOrder } from '../../utils/common';export const TestingWrapper = styled('div')`  padding: 30px 40px;  border-radius: 30px;  background-color: ${({ theme }) => theme.COLORS.WHITE.COMMON};  box-shadow: ${({ theme }) => theme.COLORS.SHADOWS.SINGLE_SM};  max-height: calc(100vh - 80px);  overflow-y: auto;  &.full-page {    min-height: calc(100vh - 80px - 116px);    max-height: unset;  }`;const StepsWrapper = styled('div')`  margin-top: 40px;  user-select: none;`;type TProps = {  testData: TTestBaseSettings;  stages: TTestStage[];};export const TestingPreview: FC<TProps> = ({ testData, stages }) => {  const [currentStep, setCurrentStep] = useState(0);  const stepsList = useMemo(() => {    if (currentStep > stages.length && currentStep !== 0) {      setCurrentStep(0);    }    return stages.sort(sortByOptionalOrder).map((el) => ({      title: el.title,      description: el.descriptionShort,    }));  }, [stages]);  return (    <TestingWrapper className="full-page">      <Typography.Title level={3}>        {testData.title ?? 'Без названия'}      </Typography.Title>      {testData.descriptionShort && (        <Typography.Paragraph>{testData.descriptionShort}</Typography.Paragraph>      )}      {testData.useStages && (        <StepsWrapper>          <Typography.Title            level={5}            style={{              textAlign: 'center',            }}          >            Этапы тестирования          </Typography.Title>          <Steps            current={currentStep}            onChange={setCurrentStep}            items={stepsList}          />          {stages.length === 0 && (            <Empty              image={Empty.PRESENTED_IMAGE_SIMPLE}              description="Этапы не добавлены"            />          )}        </StepsWrapper>      )}    </TestingWrapper>  );};